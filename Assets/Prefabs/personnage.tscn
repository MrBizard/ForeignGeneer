[gd_scene load_steps=13 format=3 uid="uid://dmg05kooto1ky"]

[ext_resource type="PackedScene" uid="uid://bek1uaqj137o7" path="res://Assets/Model/characters/Personnage.glb" id="1_1t6mr"]
[ext_resource type="Script" path="res://Assets/Scripts/Player/Player.cs" id="1_yahb5"]
[ext_resource type="Script" path="res://Assets/Scripts/Player/Hand.cs" id="3_ny5sl"]
[ext_resource type="Script" path="res://Assets/Scripts/Player/Raycast.cs" id="3_pyoxy"]
[ext_resource type="PackedScene" uid="uid://dxy583qe2yu3p" path="res://Assets/Scenes/UI/player/healthbar.tscn" id="4_5k7wx"]
[ext_resource type="Script" path="res://Assets/Scripts/Player/HealthManager.cs" id="5_672i5"]
[ext_resource type="PackedScene" uid="uid://dpgtwul4qi4kj" path="res://Assets/Scenes/UI/player/crosshair.tscn" id="6_k7yng"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_vnilt"]
radius = 0.299122
height = 1.85088

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_jier8"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_4gdlo"]
animation = &"running"

[sub_resource type="AnimationNodeBlendSpace1D" id="AnimationNodeBlendSpace1D_nvmfx"]
blend_point_0/node = SubResource("AnimationNodeAnimation_jier8")
blend_point_0/pos = 0.0
blend_point_1/node = SubResource("AnimationNodeAnimation_4gdlo")
blend_point_1/pos = 1.0
min_space = 0.0

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_67s8p"]
nodes/BlendSpace1D/node = SubResource("AnimationNodeBlendSpace1D_nvmfx")
nodes/BlendSpace1D/position = Vector2(40, 140)
node_connections = [&"output", 0, &"BlendSpace1D"]

[node name="Personnage" instance=ExtResource("1_1t6mr")]
script = ExtResource("1_yahb5")

[node name="Armature_001" parent="." index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0385989, 0, 0)

[node name="Skeleton3D" parent="Armature_001" index="0"]
bones/0/position = Vector3(3.35504e-10, 0.813246, 0.000320054)
bones/0/rotation = Quaternion(-0.0357417, -1.19133e-07, 4.26074e-09, 0.999361)
bones/1/rotation = Quaternion(0.108452, 2.37012e-07, 4.02315e-15, 0.994102)
bones/2/position = Vector3(0.197139, 0.480364, 0.00267143)
bones/2/rotation = Quaternion(0.0378287, -0.0244298, -0.953068, 0.299389)
bones/3/rotation = Quaternion(-0.0613171, -0.241466, -0.0827054, 0.964932)
bones/4/rotation = Quaternion(0.0957206, 0.109979, 0.98867, -0.0356988)
bones/4/scale = Vector3(1.00006, 1, 1.00003)
bones/5/rotation = Quaternion(-0.258392, 0.00185661, 0.0579549, 0.964299)
bones/6/rotation = Quaternion(0.637928, 0.0561999, -0.112197, 0.759803)
bones/6/scale = Vector3(0.99999, 1.00004, 1)
bones/7/rotation = Quaternion(0.0352344, 0.0032642, 0.964156, 0.262966)
bones/8/rotation = Quaternion(-0.0286574, 0.289382, 0.139153, 0.946612)
bones/10/rotation = Quaternion(-0.0674014, 0.103692, 0.992254, 0.0117174)
bones/10/scale = Vector3(1.00006, 1, 1.00004)
bones/11/rotation = Quaternion(-0.249681, -0.00207609, -0.088405, 0.964282)
bones/11/scale = Vector3(1, 1, 1)
bones/12/rotation = Quaternion(0.637828, -0.0217886, 0.109144, 0.762095)
bones/12/scale = Vector3(0.999999, 1.00003, 1)
bones/13/position = Vector3(0.193955, 0.571373, 0.37025)
bones/14/position = Vector3(0.159177, 0.0869712, -0.0502396)
bones/14/rotation = Quaternion(-0.015468, 0.706938, -0.706938, 0.015468)
bones/15/position = Vector3(-0.170851, 0.571373, 0.37025)
bones/16/position = Vector3(-0.164512, 0.0869712, -0.0502396)
bones/16/rotation = Quaternion(0.015468, 0.706938, -0.706938, -0.015468)

[node name="torso_001" parent="Armature_001/Skeleton3D" index="0"]
transform = Transform3D(-1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 0, 0, 0)

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="Armature_001/Skeleton3D" index="1" node_paths=PackedStringArray("handNode")]
transform = Transform3D(-0.845861, -0.190585, -0.498194, 0.160941, -0.98165, 0.102279, -0.508545, 0.00633425, 0.861012, -0.431098, 0.712449, 0.0290922)
bone_name = "lowerarm.r.001"
bone_idx = 9
script = ExtResource("3_ny5sl")
handNode = NodePath(".")

[node name="CollisionShape3D" type="CollisionShape3D" parent="." index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.85, 0)
shape = SubResource("CapsuleShape3D_vnilt")

[node name="Pivot" type="Node3D" parent="." index="3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.612, 0)

[node name="SpringArm3D" type="SpringArm3D" parent="Pivot" index="0"]

[node name="Camera3D" type="Camera3D" parent="Pivot/SpringArm3D" index="0"]
transform = Transform3D(0.999114, 0, 0, 0, 0.999114, 0, 0, 0, 0.999114, 0, 0, 0)
current = true
near = 0.005

[node name="RayCast3D" type="RayCast3D" parent="Pivot/SpringArm3D/Camera3D" index="0"]
process_priority = 10
process_physics_priority = 10
transform = Transform3D(0.990084, 0, 0, 0, -1.01689e-07, -1.00176, 0, 2.32638, -4.37884e-08, 0, -0.0140001, -1.2)
script = ExtResource("3_pyoxy")

[node name="AnimationTree" type="AnimationTree" parent="." index="4"]
tree_root = SubResource("AnimationNodeBlendTree_67s8p")
anim_player = NodePath("../AnimationPlayer")
parameters/BlendSpace1D/blend_position = 0

[node name="CircularProgressBar" parent="." index="5" instance=ExtResource("4_5k7wx")]

[node name="Node" type="Node" parent="CircularProgressBar" index="6" node_paths=PackedStringArray("player", "healthManager")]
script = ExtResource("5_672i5")
player = NodePath("../..")
healthManager = NodePath("..")

[node name="TextureRect" parent="." index="6" instance=ExtResource("6_k7yng")]
